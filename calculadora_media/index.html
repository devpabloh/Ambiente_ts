<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de média</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <main class="container_conteudo">
        <table class="container_table">
            <thead>
                <th>Aluno</th>
                <th>Nota</th>
                <th>Nota</th>
                <th>Nota</th>
                <th>Nota</th>
                <th>Resultado</th>
            </thead>
            <tbody id="table-body">
                <tr class="container_tr">
                    <td><input type="text" class="nomeAluno" placeholder="nome do aluno"></td>
                    <td><input type="text" class="nota" placeholder="Primeira nota"></td>
                    <td><input type="text" class="nota" placeholder="Segunda nota" ></td>
                    <td><input type="text" class="nota" placeholder="Terceira nota"></td>
                    <td><input type="text" class="nota" placeholder="Quarta nota"></td>
                    <td><input type="text" class="resultado" readonly></td>
                    <td><button id="button" onclick="somar()">Calcular média</button></td>
                </tr>
            </tbody>
        </table>
        <nav class="container_navegacao">
            <div><button class="addAluno" onclick="adicionarAluno(this)">Adicionar Aluno</button></div>
        </nav>
    </main>

    <script>

    function somar(){
        let tr = button.closest('.container_tr');
        let notas = tr.querySelectorAll(".nota");
            let soma = 0
            let count = 0
            for(let i = 0; i < notas.length; i++){
                        let valor = Number(notas[i].value)
                            if(!isNaN(valor) && notas[i].value.trim() !==""){
                                soma += valor
                                count++
                            }
                            
                    }
            let media = count > 0 ? soma / count: 0;
            tr.querySelector(".resultado").value = media
        }

        function adicionarAluno(){
            let tbody = document.getElementById('table-body')
            let novaLinha = document.createElement('tr')
            novaLinha.classList.add('container_tr')

            novaLinha.innerHTML = `
                <td><input type="text" class="nomeAluno" placeholder="nome do aluno"></td>
                <td><input type="text" class="nota" placeholder="Primeira nota"></td>
                <td><input type="text" class="nota" placeholder="Segunda nota" ></td>
                <td><input type="text" class="nota" placeholder="Terceira nota"></td>
                <td><input type="text" class="nota" placeholder="Quarta nota"></td>
                <td><input type="text" class="resultado" readonly></td>
                <td><button id="button" onclick="somar(this)">Calcular média</button></td>
            `
            tbody.appendChild(novaLinha)
        }
        
        
    
    </script>
    
</body>
</html>